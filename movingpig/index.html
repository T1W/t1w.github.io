<!DOCTYPE html>
<html>
<head>
<title>Aspiond</title>
<meta charset="UTF-8">
<link rel="icon" href="../images/redflower.png">
<link rel="stylesheet" type="text/css" href="../styles/front.css">
<link rel="stylesheet" type="text/css" href="../styles/style.css">
</head>
<body>
<style>

.sbutton {
	position:absolute;
	right:5px;
	margin-top:5px;
	height:40px;
}

.happy {
	border: 2px solid #4477aa;
	background:linear-gradient(#f0e5ff, #bbffff);
	color:#4477aa;
}

.happy:hover {
	border: 2px solid #6699cc;
	background:linear-gradient(#faf5ff, #ddffff);
	color:#6699cc;
}

</style>
<div id="top" title="Aspiond? A spin diamond? A spinmond!">
<div id="banner">
</div>
</div>
<div class="horizlist">
<a href="index.html">Front</a>
<a href="../en/happystar/pigs/index.html">Happy Star</a>
<a href="pagelist.html">Page List</a>
<a href="changes.html">Changes</a>
</div>

<main>

<h1 class="center">April</h1>
<p class="a center">Pigs! Pigs love to bounce! Oink oink! Click on a pig for more pigs! Press 0 to delete all pigs, and press 9 to delete all pigs except for one.</p>

<a href="../en/happystar/pigs/index.html"><button class="sbutton happy">Visit Happy Star -&gt;</button></a>

<h1 class="center">Happy Star</h1>
<p class="a center">:)</p>

<hr class="hrred">
Created 2019/10/14, added bouncing pigs on April Fools' 2021

<hr class="hrred">
<div id="bottom">
<img src="../images/sunseal.svg" alt="gray circle with many yellow star" style="width:100px; height:100px" class="r" title="Sun seal loves winter!">
<img src="../images/partcloudy.png" alt="sun behind gray cloud" style="width:100px; height:100px" class="l">
</div>

</main>

<div style="position:fixed; right:0; top:0; background-color:rgba(0,0,0,0.5); color:white; padding:5px;">
Click a pig for more pigs!<br>
Press 0 to delete all pigs<br>
Press 9 to delete all pigs except one
</div>

<script>

function Pig() {
	var angle = (Math.floor(Math.random()*51+20))/180*Math.PI;
	var speed = Math.random()*3+4;
	this.dx = speed*Math.cos(angle);
	this.dy = speed*Math.sin(angle);
	this.x = Math.random()*window.innerWidth;
	this.y = Math.random()*window.innerHeight;
	this.ele = document.createElement("img");
	this.ele.src = "../images/pigs/bigpig.png";
	this.ele.style.position = "fixed";
	this.ele.style.maxWidth = "100px";
	this.ele.style.maxHeight = "120px";
	this.ele.onmousedown = function(){var piggy = new Pig(); pigs.push(piggy);};
	document.body.appendChild(this.ele);
	movePig(this);
}

function bounceSide(pig) {
	pig.dx = -pig.dx;
}

function bounceTop(pig) {
	pig.dy = -pig.dy;
}

function movePig(pig) {	
	if(pig.dy+pig.y>=(window.innerHeight-pig.ele.height)) {
		pig.y = window.innerHeight-pig.ele.height;
		bounceTop(pig)
	} else if (pig.dy+pig.y<0) {
		pig.y = 0;
		bounceTop(pig)
	} else {
		pig.y+=pig.dy;
	}
	if(pig.dx+pig.x>=(window.innerWidth-pig.ele.width)) {
		pig.x = window.innerWidth-pig.ele.width;						bounceSide(pig)
	} else if(pig.dx+pig.x<0) {
		pig.x = 0;
		bounceSide(pig)
	} else {
		pig.x+=pig.dx;
	}
	pig.ele.style.left = pig.x + "px";
	pig.ele.style.top = pig.y + "px";
	
	window.requestAnimationFrame(function() {
		movePig(pig);
	});
}

var pigs = [];
var oink = new Pig();
pigs.push(oink);

document.onkeydown = function(e) {
	if(e.keyCode == 48) {
		for(var i = 0; i<pigs.length; i++) {
			pigs[i].ele.remove();
		}
	}
	if(e.keyCode == 57) {
		for(var i = pigs.length-1; i>0; i--) {
			pigs[i].ele.remove();
		}
	pigs.length = 1;
	}
}

</script>

</body>
</html>